
<%= component_controller do %>
  <div class="row">
    <div class="col-10">
      <%= form title: t('components.property_form.manage_property'), subtitle: t('components.property_form.fill_in_the_following_fields_to_create_a_property') do %>

        <%= fieldset title: t('components.property_form.'), subtitle: t('components.property_form.') do %>
          <%= reflex_input :type, as: :select, collection: types_for_select %>
          <%= reflex_input :typology, as: :select, collection: typologies_for_select if show_typology_input? %>
        <% end %>

        <%= fieldset title: t('components.property_form.'), subtitle: t('components.property_form.') do %>
          <%= reflex_input :name, placeholder: t('property.placeholders.name') %>
          <%= reflex_input :code, placeholder: t('property.placeholders.name') %>
          <%= reflex_input :description, as: :rich_text %>
        <% end %>

        <%= fieldset title: t('components.property_form.'), subtitle: t('components.property_form.') do %>
          <%= reflex_input :market_value, as: :money %>
          <%= reflex_input :default_rent, as: :money %>
          <%= reflex_input :default_charges, as: :money %>
        <% end %>

        <%= fieldset title: t('components.property_form.'), subtitle: t('components.property_form.') do %>
          <%= reflex_input :enterprise, as: :association, collection: Enterprise.all, include_blank: true, prompt: t('globals.none') %>
          <%= reflex_input :manager, as: :association, collection: User.all, include_blank: true, prompt: t('globals.none') %>
        <% end %>

        <%= fieldset title: t('components.property_form.'), subtitle: t('components.property_form.') do %>
          <%= reflex_input :default_invoice_description, as: :text %>
          <%= reflex_input :default_charges_description, as: :text %>
        <% end %>

        <%= render_with_context Addresses::NestedFormComponent, record: property_address, title: t('components.property_form.'), subtitle: t('components.property_form.') %>

        <%= reflex_submit class: 'btn btn-primary', icon: 'check-circle' %>
      <% end %>
    </div>
  </div>
<% end %>
